import{r,j as e,h as G,u as T,i as b,L as C}from"./index-c43d25d1.js";import{b as j,N as q,c as H,F as U,a as V}from"./index-61f77665.js";import{B as J}from"./index-75ae6465.js";import{Q as K}from"./index-dd9af8b5.js";import{h as O,g as W}from"./randomCharacters-1d0a823e.js";import{f as X}from"./toRupiah-23cacd66.js";import{A as Y}from"./api-273c7fe6.js";import{u as Z}from"./useDispatch-e360369d.js";import"./formik.esm-daee778b.js";import"./index-5af015b0.js";import"./sweetalert2-react-content.es-a297bc4b.js";const ee="/assets/grid-c2df6dd2.svg",se="/assets/block-2b33aaf5.svg",te="/assets/search-f3141c50.png",v=({listMenu:l,title:h,onClick:i,active:m})=>{const[x,n]=r.useState(!0),p=()=>{n(!x)};return e.jsxs("ul",{className:"w-full h-max bg-transparent mb-[20px]",children:[e.jsxs("li",{className:"flex hover:brightness-[50%] w-full flex justify-between items-center cursor-pointer font-bold text-black",onClick:()=>p(),children:[h," ",e.jsx(j,{style:{transition:"ease 0.4s",transform:`rotate(${x?"90deg":"0deg"})`,marginLeft:"10px",fontSize:"14px"}})]}),e.jsx("li",{className:`overflow-hidden transition-all duration-300 ease ${x?"h-auto max-h-[300px] opacity-100":"h-auto max-h-0 opacity-0"}`,children:e.jsx("ul",{children:l==null?void 0:l.map((a,u)=>e.jsxs("li",{onClick:()=>i==null?void 0:i(a),className:`text-${m===a?"blue-500 font-bold rounded-full":"slate-500"} flex items-center justify-between my-[12px] text-[14px] py-1 hover:brightness-[80%] cursor-pointer`,children:[a," ",e.jsx("input",{type:"checkbox",name:a,checked:m===a,className:"cursor-pointer"})]},u))})})]})},ue=()=>{const[l,h]=r.useState([]),[i,m]=r.useState({}),x=G(),[n,p]=r.useState("grid"),[a,u]=r.useState(""),[w,S]=r.useState(""),[N,y]=r.useState(""),[g,P]=r.useState(!0),[$,I]=r.useState(!0),k=T(),A=b(s=>s.productReducer.brand),R=b(s=>s.productReducer.size),B=b(s=>s.productReducer.color),[z,F]=r.useState(!1),L=Z();r.useEffect(()=>{(async()=>{const t=localStorage.getItem("name"),o=localStorage.getItem("brand"),c=localStorage.getItem("size"),d=localStorage.getItem("color"),Q={...i,name:t??void 0,brand:o??void 0,size:c??void 0,color:d??void 0};u(o??a),S(c??w),y(d??N);const E=await Y.getAllProduct(Q);h(E.data.data),I(!1)})()},[i,$,localStorage.getItem("name")]);const D=()=>{P(!g)},_=()=>{F(!z)},f=(s,t)=>{const o={...i,[s]:t};m(o);const c=new URLSearchParams(o);k({search:c.toString()}),s=="brand"?(localStorage.setItem("brand",t),u(t)):s==="size"?(localStorage.setItem("size",t),S(t)):(localStorage.setItem("color",t),y(t))},M=()=>{localStorage.removeItem("name"),localStorage.removeItem("brand"),localStorage.removeItem("size"),localStorage.removeItem("color"),k("/list-product"),I(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(q,{onClick:()=>_(),active:z}),e.jsx("section",{className:"w-screen px-[20px] md:px-[60px] py-[20px] h-max flex",children:e.jsx("div",{className:"w-full flex items-center py-[10px]",children:e.jsxs("p",{className:"flex items-center",children:[e.jsx(C,{to:"/",className:"text-blue-500",children:"Home"})," ",e.jsx(j,{size:13,style:{fontSize:"10px",marginLeft:"6px",marginRight:"6px"}})," ",e.jsx("p",{className:"text-slate-500",children:x.pathname.substring(1)})]})})}),e.jsxs("section",{className:"w-full flex h-max px-[20px] md:px-[60px]",children:[e.jsxs("div",{className:"md:block hidden w-[20%] h-max pb-[20px] px-[0px] border-t-slate-300",children:[e.jsx(J,{text:"Clear filter",type:"outline-with-icon",style:"mb-8",handleClick:()=>M(),icon:e.jsx(H,{})}),e.jsx(v,{title:"Brand products",onClick:s=>f("brand",s),listMenu:A,active:a}),e.jsx(v,{title:"Size products",onClick:s=>f("size",s),listMenu:R,active:w}),e.jsx(v,{title:"Price ranges",onClick:s=>f("color",s),listMenu:B,active:N})]}),e.jsxs("div",{className:`w-full md:w-[80%] overflow-y-auto transition-all duration-300 ease ${g?"h-100vh max-h-[100vh] opacity-100":"h-auto max-h-[75px]"} md:px-[40px] pb-[20px]`,children:[e.jsxs("div",{className:"w-full py-[14px] rounded-lg border-2 border-slate-300 bg-slate-100 mb-[20px] p-[12px] flex  justify-between items-center",children:[e.jsxs("p",{children:[l?l.length:0," items in brand ",e.jsxs("b",{className:"md:flex hidden",children:[localStorage.getItem("brand")?localStorage.getItem("brand"):"all brands",", ",localStorage.getItem("size")?localStorage.getItem("size"):"all sizes",", ",localStorage.getItem("color")?localStorage.getItem("color"):"all colors"]})]}),e.jsxs("div",{className:"w-max flex items-center",children:[e.jsx("div",{onClick:()=>D(),className:"w-[35px] rounded-lg border-2 border-slate-500 h-[35px] flex items-center justify-center cursor-pointer hover:brightness-[80%] duration-200",children:e.jsx(j,{size:14,style:{transition:"0.4s ease",transform:`rotate(${g?"90deg":"0deg"})`}})}),e.jsx("div",{onClick:()=>p("bloack"),className:"w-[35px] mx-2 rounded-lg border-2 border-slate-500 h-[35px] flex items-center justify-center cursor-pointer hover:brightness-[80%] duration-200",children:e.jsx("img",{src:ee,alt:"gridMode",className:"w-[60%] opacity-[0.7]"})}),e.jsx("div",{onClick:()=>p("grid"),className:"w-[35px] rounded-lg border-2 border-slate-500 h-[35px] flex items-center justify-center cursor-pointer hover:brightness-[80%] duration-200",children:e.jsx("img",{src:se,alt:"blockMode",className:"w-[50%] opacity-[0.7]"})})]})]}),e.jsx("div",{className:"w-full flex flex-wrap justify-between h-max px-[10px] py-[20px] md:p-[20px] bg-slate-100 rounded-lg overflow-hidden",children:l?l.map((s,t)=>e.jsxs("div",{className:`${n==="grid"?"flex w-full mr-0 h-[280px]":"block w-full md:w-[31%] mx-2 h-max"} rounded-lg bg-white shadow-sm mb-[24px] overflow-hidden`,children:[e.jsx("div",{className:`${n==="grid"?"w-[30%] min-h-max":"w-full h-[200px]"} flex items-center justify-center overflow-hidden`,children:e.jsx("img",{src:`https://huda.descode.id/uploads/${s==null?void 0:s.product_image}`,alt:"fotoProduct",className:"rounded-lg w-[85%] h-auto my-auto"})}),e.jsxs("div",{className:`${n==="grid"?"e-full md:w-[70%]":"w-full"} relative w-[70%] border-l my-auto border-l-slate-300 h-[90%] px-[20px] py-[20px]`,children:[e.jsx("div",{className:"absolute bg-green-500 text-white rounded-full px-3 py-1 right-4 top-1",children:s==null?void 0:s.shop_name}),e.jsx("h3",{className:"text-black w-full mb-6 text-[18px]",children:s==null?void 0:s.product_name}),e.jsx("h2",{className:"text-[24px] font-bold mb-2",children:X(s==null?void 0:s.product_price)}),e.jsx("div",{className:"w-max flex  items-center"}),e.jsx("p",{className:`${n==="grid"?"block":"hidden"} mt-[20px] text-[14px] overflow-hidden max-w-full whitespace-nowrap overflow-ellipsis text-slate-500 leading-[1.6em]`,children:s==null?void 0:s.product_description}),e.jsxs("div",{className:"flex items-center mt-4 w-max",children:[e.jsx(C,{to:`/detail-product/${s==null?void 0:s.product_id}`,children:e.jsx("p",{className:"text-blue-500 font-bold text-[16px]",children:"View details"})},t),e.jsx("div",{className:"w-[35px] ml-3 cursor-pointer hover:brightness-[85%] duration-100 text-white rounded-full bg-blue-500 h-[35px] text-[14px] flex items-center justify-center",onClick:()=>O(W(5),s,L),children:e.jsx(U,{})})]})]})]},t)):e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:te,alt:"searchIcon",className:"w-[40px] mr-3"}),e.jsxs("p",{children:["The product ",e.jsx("b",{children:e.jsx("i",{children:"specifications"})})," were not found!"]})]})})]})]}),e.jsx(K,{}),e.jsx(V,{})]})};export{ue as default};
