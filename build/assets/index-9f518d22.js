import{i as o,j as s,L as m,o as f,p as h}from"./index-c43d25d1.js";import{f as j,g as w,h as b,N,i as v,a as g}from"./index-61f77665.js";import{B as c}from"./index-75ae6465.js";import{f as r}from"./toRupiah-23cacd66.js";import{C as u}from"./cart-25bec486.js";import{A as d}from"./index-5af015b0.js";import{u as y}from"./useDispatch-e360369d.js";import"./sweetalert2-react-content.es-a297bc4b.js";const p=()=>{const l=o(e=>e.cartReducer.dataOrders),a=y(),n=async e=>{try{a(f(e)),d({showConfirmButton:!0,text:"Success remove from cart",title:"Success",icon:"success",showCancelButton:!1})}catch(t){d({showConfirmButton:!1,text:t,title:"Failed",icon:"error",showCancelButton:!0,cancelButtonText:"Confirm"})}},x=(e,t)=>{a(h({product:e,delta:t}))},i=(e,t)=>{a(h({product:e,delta:t}))};return s.jsx(s.Fragment,{children:l&&l.length>0?l.map((e,t)=>s.jsxs("div",{className:"w-full h-max md:h-[200px] bg-white mb-[20px] p-4 md:flex",children:[s.jsx("div",{className:"overflow-hidden rounded-lg w-full md:w-[20%] h-[100%] flex items-center justify-center",children:s.jsx("img",{src:`https://huda.descode.id/uploads/${e&&(e==null?void 0:e.product_image)}`,alt:"fotoProduct",className:"w-full md:w-[80%] h-auto"})}),s.jsxs("div",{className:"w-full md:w-[80%] pt-4 md:pt-0 md:flex px-2 md:px-5",children:[s.jsxs("div",{className:"w-full md:w-[80%]",children:[s.jsx("h3",{className:"text-black font-bold mb-5 text-[20px] w-[92%]",children:e&&(e==null?void 0:e.product_name)}),s.jsxs("p",{className:"text-[14px] text-slate-500 w-[96%]",children:["Size: ",e&&(e==null?void 0:e.product_size),", Color: ",e&&(e==null?void 0:e.product_color),",  Type: ",e&&(e==null?void 0:e.product_type)]}),s.jsxs("div",{className:"w-max flex items-center mt-4 h-max",children:[s.jsx("div",{onClick:()=>n(e&&(e==null?void 0:e.idCart)),className:"rounded-full bg-red-500 mt-5 hover:brightness-[90%] active:scale-[0.98] cursor-pointer w-[40px] h-[40px] flex items-center justify-center text-white shadow-lg",children:s.jsx(j,{size:14})}),s.jsxs("div",{className:"w-max flex items-center ml-6 mt-5 h-max",children:[s.jsx("div",{onClick:()=>e&&(e==null?void 0:e.quantityInCart)===1?null:x(e&&e,-1),className:`w-[30px] ${e&&(e==null?void 0:e.quantityInCart)===1?"bg-slate-400 cursor-not-allowed hover:brightness-[100%]":"bg-slate-200 cursor-pointer hover:brightness-[90%] active:scale-[0.98]"} duration-100 h-[30px] rounded-md flex items-center justify-center p-1`,children:s.jsx(w,{size:16})}),s.jsx("div",{className:"text-center mx-2 w-[30px] h-max",children:e&&((e==null?void 0:e.quantityInCart)||0)}),s.jsx("div",{onClick:()=>i(e&&e,1),className:"w-[30px] bg-slate-200 active:scale-[0.98] hover:brightness-[90%] duration-100 h-[30px] rounded-md flex items-center justify-center cursor-pointer p-1",children:s.jsx(b,{size:16})})]})]})]}),s.jsx("hr",{className:"md:hidden mt-6"}),s.jsxs("div",{className:"relative w-full md:w-[20%] h-full",children:[s.jsx("h3",{className:"w-max font-bold text-black text-[20px] md:mt-0 mt-3 md:mt-5 md:text-[16px]",children:r(e&&(e==null?void 0:e.total_price))}),s.jsx("div",{className:"absolute bottom-6 right-5 rounded-full px-3 py-1 bg-blue-500 font-normal text-center text-white text-[14px] hidden md:inline",children:e&&(e==null?void 0:e.idCart)})]})]})]},t)):s.jsxs("div",{className:"w-full h-full rounded-lg text-center flex justify-center items-center",children:[s.jsx(m,{to:"/",children:s.jsx("img",{src:u,alt:"cartIcon",className:"w-[28px]"})}),s.jsx("p",{className:"text-[18px] ml-4 text-slate-500",children:"Your shopping cart is still empty"})]})})},T=()=>{var n,x;const l=o(i=>i.cartReducer.dataOrders),a=()=>l.reduce((i,e)=>i+((e==null?void 0:e.total_price)||0),0);return s.jsxs(s.Fragment,{children:[s.jsx(N,{}),s.jsx("section",{className:"w-screen px-[20px] md:px-[60px] py-[20px] h-max flex",children:s.jsxs("div",{className:"w-full flex items-center py-[10px]",children:[s.jsx(m,{to:"/",children:s.jsx("div",{className:"rounded-full mr-3 md:ml-[-10px] bg-blue-500 text-white border border-slate-300 cursor-pointer active:scale-[0.98] hover:brightness-[90%] flex items-center justify-center p-1 w-[30px] h-[30px]",children:s.jsx(v,{size:14})})}),s.jsxs("h2",{className:"flex text-[20px] font-bold items-center",children:["My cart (",l.length,")"]})]})}),s.jsxs("section",{className:"w-screen h-max md:flex px-[20px] md:px-[50px] pb-[40px]",children:[s.jsx("div",{className:"w-full md:w-[70%] mr-6 p-4 rounded-lg shadow-lg bg-slate-100 border border-slate-300",children:s.jsx(p,{})}),s.jsxs("div",{className:"w-full md:w-[30%] mt-6 md:mt-0 rounded-lg bg-slate-100 overflow-hidden shadow-lg p-4 h-max",children:[s.jsxs("div",{className:"w-full border-b border-b-slate-400 pb-3",children:[s.jsxs("div",{className:"w-full justify-between mb-5 px-3 flex items-center",children:[s.jsx("p",{className:"text-slate-500 font-normal",children:"Subtotal : "}),s.jsx("p",{className:"text-slate-500 font-normal",children:r(a())})]}),s.jsxs("div",{className:"w-full justify-between mb-5 px-3 flex items-center",children:[s.jsx("p",{className:"text-slate-500 font-normal",children:"Total product : "}),s.jsx("p",{className:"text-slate-500 font-normal",children:l&&(l==null?void 0:l.length)})]})]}),s.jsxs("div",{className:"w-full flex items-center h-max py-[16px] justify-center justify-between",children:[s.jsx("h3",{className:"text-[16px] font-bold text-black",children:"Total : "}),s.jsx("h3",{className:"text-[18px] font-bold text-black",children:r(a())})]}),(n=l==null?void 0:l[0])!=null&&n.shop_id?s.jsx(m,{to:`/my-cart/${(x=l==null?void 0:l[0])==null?void 0:x.shop_id}/checkout`,children:s.jsx(c,{status:"primary",text:"Checkout",style:"mt-3 w-full"})}):s.jsx(c,{disabled:!0,status:"primary",text:"Checkout",style:"mt-3 w-full"})]})]}),s.jsx(g,{})]})};export{T as default};
