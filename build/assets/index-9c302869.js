import{u as x,c as f,d as p,r as c,e as g,f as j,g as w,j as e,L as b}from"./index-c43d25d1.js";import{c as v,a as d,L as E,I as m,B as S}from"./index-75ae6465.js";import{E as N}from"./index-dd454b2c.js";import{u as k}from"./formik.esm-daee778b.js";import{A as C}from"./api-273c7fe6.js";import{u}from"./useDispatch-e360369d.js";const y=({onError:a})=>{const o=new AbortController().signal,n=x(),s=u();return k({initialValues:{email_consumer:"",password:""},validationSchema:v({email_consumer:d().email("Invalid email address").required("This field is required."),password:d().min(6,"Must be at least 6 characters").required("This field is required.")}),onSubmit:async(i,{resetForm:h})=>{try{if(o.aborted)return;console.log(i);const r=await C.checkAccountConsumer(i);r.data.status===200?(h(),s(f(r.data.data)),s(p(r.data.token)),n("/")):a(r.data.message)}catch(r){a(r.data.message)}}})},q=()=>{const[a,t]=c.useState(""),o=u();c.useEffect(()=>{o(g()),o(j()),o(w())},[]);const s=y({onError:l=>{t(l)}});return e.jsxs("div",{className:"w-screen bg-blue-100 h-screen md:flex items-center justify-center",children:[e.jsx("div",{className:"w-[50%] h-screen hidden md:flex items-center justify-center",children:e.jsx("img",{src:E,alt:"logo",className:"w-[70%]"})}),e.jsxs("div",{className:"w-full md:w-[50%] h-full rounded-lg flex flex-col justify-center overflow-hidden bg-white p-[20px] md:p-[40px]",children:[a!==""?e.jsx(e.Fragment,{children:e.jsx(N,{error:a})}):null,e.jsx("h2",{className:"font-bold text-[32px] mb-4",children:"Signin"}),e.jsxs("form",{onSubmit:s.handleSubmit,className:"w-full md:w-[90%] flex flex-col rounded-lg h-max",children:[e.jsx("div",{className:"mb-5",children:e.jsx(m,{value:s.values.email_consumer,name:"email_consumer",label:"Email",id:"email",onError:s.errors.email_consumer,onTouched:!!s.touched.email_consumer,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Enter Your Email"})}),e.jsx("div",{className:"mb-5",children:e.jsx(m,{value:s.values.password,name:"password",label:"Password",id:"password",onError:s.errors.password,onTouched:!!s.touched.password,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"Enter Your Password"})}),e.jsxs("div",{className:"w-max flex mt-6 flex-col",children:[e.jsx(S,{status:"primary",typeButton:"submit",text:"Signin now"}),e.jsxs("div",{className:"flex mt-3 items-center font-normal text-[14px]",children:["Don`t have an account ?",e.jsx(b,{to:"/signup",children:e.jsx("p",{className:"ml-2 text-blue-500 cursor-pinter hover:brightness-[80%] ",children:"Here"})})]})]})]})]})]})};export{q as default};
